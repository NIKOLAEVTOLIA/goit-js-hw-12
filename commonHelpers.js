import{a as h,i as m,S as g}from"./assets/vendor-89feecc5.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}})();function f(o){const t=document.createElement("li"),r=document.createElement("img"),a=document.createElement("a"),e=document.createElement("div");return r.src=o.webformatURL,r.alt=o.tags,a.href=o.largeImageURL,a.appendChild(r),e.classList.add("image-info"),e.innerHTML=`
        <p class="likes">Likes <span>${o.likes}</span></p>
        <p class="views">Views <span>${o.views}</span></p>
        <p class="comments">Comments <span>${o.comments}</span></p>
        <p class="downloads">Downloads <span>${o.downloads}</span></p>
    `,t.appendChild(a),t.appendChild(e),t}let l=1;const c=40;let L="",y="41728884-677575adccc9f2c5ba20b621f",p=document.querySelector(".gallery");document.querySelector(".form-search").addEventListener("submit",async function(o){o.preventDefault();const t=document.querySelector("span.loader"),r=document.querySelector(".button-loadmore");p.innerHTML="",t.classList.add("visible"),r.classList.remove("visible");const a=document.querySelector(".text-input").value,e={key:y,q:a,image_type:"photo",orientation:"horizontal",safesearch:!0,page:l,per_page:c},n=`https://pixabay.com/api/?${new URLSearchParams(e)}`;try{const i=(await h.get(n)).data;t.classList.remove("visible"),i.hits.length===0?m.error({message:"Sorry, there are no images matching your search query. Please try again.",position:"topRight",messageColor:"#FAFAFB",backgroundColor:"#EF4040"}):(i.hits.forEach(b=>{const v=f(b);p.appendChild(v)}),new g(".gallery a",{captionsData:"alt",captionDelay:250}).refresh(),i.hits.length===c&&r.classList.add("visible"))}catch(d){console.error("Error fetching search results:",d),t.classList.remove("visible")}});document.querySelector(".button-loadmore").addEventListener("click",async function(){const o=document.querySelector(".loader-loadmore"),t=document.querySelector(".button-loadmore");o.classList.add("visible"),t.classList.remove("visible");try{l++;const r={key:y,q:L,image_type:"photo",orientation:"horizontal",safesearch:!0,page:l,per_page:c},e=`https://pixabay.com/api/?${new URLSearchParams(r)}`,n=(await h.get(e)).data;o.classList.remove("visible"),n.hits.length>0?(n.hits.forEach(i=>{const u=f(i);p.appendChild(u)}),new g(".gallery a",{captionsData:"alt",captionDelay:250}).refresh(),S(),l*c>=n.totalHits?(t.classList.remove("visible"),m.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight",messageColor:"#FAFAFB",backgroundColor:"#3498db"})):t.classList.add("visible")):(t.classList.remove("visible"),m.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight",messageColor:"#FAFAFB",backgroundColor:"#3498db"}))}catch(r){console.error("Error fetching more results:",r),o.classList.remove("visible"),t.classList.add("visible")}});function S(){const o=document.querySelector(".gallery li").getBoundingClientRect().height;window.scrollBy({top:o*2,left:0,behavior:"smooth"})}
//# sourceMappingURL=commonHelpers.js.map
